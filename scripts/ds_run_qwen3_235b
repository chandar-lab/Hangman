#!/bin/bash
#SBATCH --job-name=run_diagnosis_simulator_qwen3_235b
#SBATCH --output=logs/output/experiment-ds-qwen3_235b-%A.%a.out
#SBATCH --error=logs/error/experiment-ds-qwen3_235b-%A.%a.err
#SBATCH --time=7-00:00:00
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --mem=32G
#SBATCH --partition=long-cpu

# Cd to project root
cd /home/mila/b/baldelld/scratch/hangman

# Create directories for logs
mkdir -p logs/output logs/error

# Activate the virtual environment
source .venv/bin/activate || true

echo "--- Starting Diagnosis Simulator Qwen3-235B Run (CPU-only) ---"
python run_experiment.py --run-config ./config/diagnosis_simulator_qwen3_235b_run.yaml

echo "--- Experiment finished ---"


